$fn = 48;

polyhedron(points = [[2.5000000000, 1.8163599968, 9.5105600357], [2.5000000000, -1.8163599968, 9.5105600357], [0.9549149871, -2.9389300346, 9.5105600357], [2.5000000000, 1.8163599968, 9.5105600357], [0.9549149871, -2.9389300346, 9.5105600357], [0.9549149871, 2.9389300346, 9.5105600357], [0.9549149871, 2.9389300346, 9.5105600357], [0.9549149871, -2.9389300346, 9.5105600357], [-0.9549149871, -2.9389300346, 9.5105600357], [0.9549149871, 2.9389300346, 9.5105600357], [-0.9549149871, -2.9389300346, 9.5105600357], [-0.9549149871, 2.9389300346, 9.5105600357], [-0.9549149871, 2.9389300346, 9.5105600357], [-0.9549149871, -2.9389300346, 9.5105600357], [-2.5000000000, -1.8163599968, 9.5105600357], [-0.9549149871, 2.9389300346, 9.5105600357], [-2.5000000000, -1.8163599968, 9.5105600357], [-2.5000000000, 1.8163599968, 9.5105600357], [-2.5000000000, 1.8163599968, 9.5105600357], [-2.5000000000, -1.8163599968, 9.5105600357], [-3.0901699066, 0.0000000000, 9.5105600357], [2.5000000000, -1.8163599968, 9.5105600357], [2.5000000000, 1.8163599968, 9.5105600357], [3.0901699066, -0.0000000000, 9.5105600357], [3.0901644052, -0.0000017875, 9.5105675998], [2.4999944893, 1.8163582063, 9.5105676284], [9.2588321686, 0.3797206266, 9.5105673591], [3.0901644046, -0.0000017788, 9.5105674048], [9.2588321691, 0.3797206178, 9.5105675541], [8.3086373316, -4.5291611354, 9.5105674154], [8.3086373412, -4.5291611372, 9.5105675238], [9.2588321596, 0.3797206197, 9.5105674457], [14.2364666111, -6.2777111540, 9.5105674457], [8.3086373496, -4.5291611086, 9.5105675422], [14.2364666027, -6.2777111826, 9.5105674273], [11.9298456092, -12.0114839964, 9.5105675786], [6.4425439784, -9.1678763382, 9.5105676098], [8.3086373496, -4.5291611086, 9.5105675378], [11.9298456092, -12.0114839964, 9.5105675830], [6.4425439756, -9.1678763435, 9.5105675633], [11.9298456120, -12.0114839910, 9.5105676295], [8.5752410678, -17.2021707046, 9.5105676292], [3.7286118573, -13.3672301578, 9.5105676089], [6.4425439756, -9.1678763435, 9.5105676091], [8.5752410678, -17.2021707046, 9.5105675834], [3.7286118545, -13.3672301613, 9.5105675663], [8.5752410705, -17.2021707011, 9.5105676260], [4.2950069187, -21.6604491462, 9.5105675425], [0.2658328059, -16.9740493571, 9.5105675518], [3.7286118545, -13.3672301613, 9.5105676253], [4.2950069187, -21.6604491462, 9.5105674835], [0.2658328037, -16.9740493589, 9.5105674710], [4.2950069209, -21.6604491443, 9.5105675643], [-0.7547272129, -25.2237001095, 9.5105676319], [-0.7547272253, -25.2237000918, 9.5105676319], [4.2950069334, -21.6604491620, 9.5105675643], [3.2744475820, -29.9100977099, 9.5105675652], [4.2950069334, -21.6604491620, 9.5105675643], [7.3597698780, -27.0273677479, 9.5105676446], [3.2744475820, -29.9100977099, 9.5105675652], [3.2744475834, -29.9100977119, 9.5105676357], [7.3597698766, -27.0273677460, 9.5105675741], [7.9869904646, -33.9086712926, 9.5105674893], [7.3597698766, -27.0273677460, 9.5105675543], [9.5474464103, -32.8075621254, 9.5105675134], [7.9869904646, -33.9086712926, 9.5105675091], [3.2744475777, -29.9100977186, 9.5105674407], [7.9869904702, -33.9086712859, 9.5105676842], [7.1546614496, -35.6275932033, 9.5105678644], [9.6707146960, -33.0072629675, 9.5105582382], [7.1546614222, -35.6275931901, 9.5105582375], [7.9869904977, -33.9086712992, 9.5105582376], [11.5627071938, -33.2676772053, 9.5105582391], [7.1546614222, -35.6275931901, 9.5105582375], [9.6707146960, -33.0072629675, 9.5105582382], [11.5627071938, -33.2676772053, 9.5105582391], [7.4916504935, -37.5074574279, 9.5105582380], [7.1546614222, -35.6275931901, 9.5105582375], [12.9402934680, -34.5904419566, 9.5105582399], [7.4916504935, -37.5074574279, 9.5105582380], [11.5627071938, -33.2676772053, 9.5105582391], [12.9402934680, -34.5904419566, 9.5105582399], [8.8692367677, -38.8302221793, 9.5105582388], [7.4916504935, -37.5074574279, 9.5105582380], [13.2772825393, -36.4703061945, 9.5105582404], [8.8692367677, -38.8302221793, 9.5105582388], [12.9402934680, -34.5904419566, 9.5105582399], [13.2772825393, -36.4703061945, 9.5105582404], [10.7612292655, -39.0906364170, 9.5105582397], [8.8692367677, -38.8302221793, 9.5105582388], [10.7612292655, -39.0906364170, 9.5105582397], [13.2772825393, -36.4703061945, 9.5105582404], [12.4449534639, -38.1892280853, 9.5105582403], [4.2950069291, -21.6604491644, 9.5105676583], [9.9300644865, -19.1221864886, 9.5105675609], [7.3597698823, -27.0273677455, 9.5105675506], [9.9300644865, -19.1221864886, 9.5105675782], [11.9186225546, -24.9738717597, 9.5105676086], [7.3597698823, -27.0273677455, 9.5105675333], [7.3597698880, -27.0273677581, 9.5105675623], [11.9186225489, -24.9738717471, 9.5105675796], [11.2261888985, -31.8489214200, 9.5105675190], [11.9186225489, -24.9738717471, 9.5105675495], [12.9675170373, -31.0645570275, 9.5105675413], [11.2261888985, -31.8489214200, 9.5105675492], [9.9300645024, -19.1221864832, 9.5105675510], [15.9449007342, -17.7015016796, 9.5105675556], [11.9186225387, -24.9738717651, 9.5105676358], [15.9449007342, -17.7015016796, 9.5105676580], [16.7847273271, -23.8245136015, 9.5105675371], [11.9186225387, -24.9738717651, 9.5105675333], [11.9186225387, -24.9738717651, 9.5105675333], [16.7847273271, -23.8245136015, 9.5105675371], [14.7979043087, -30.4425428396, 9.5105675173], [-0.7547272119, -25.2237000803, 9.5105676192], [3.2744475686, -29.9100977215, 9.5105675780], [-0.1883306075, -33.5169187040, 9.5105676546], [-0.1883306092, -33.5169187023, 9.5105675841], [3.2744475703, -29.9100977231, 9.5105676484], [5.1984284861, -36.5466715188, 9.5105675672], [-0.1883306000, -33.5169186860, 9.5105676615], [5.1984284769, -36.5466715352, 9.5105674898], [4.7080629310, -38.3924756468, 9.5105674634], [-5.0349568699, -29.6819739994, 9.5105675712], [-0.7547272119, -25.2237000803, 9.5105676422], [-0.1883306075, -33.5169187040, 9.5105676316], [-5.0349568823, -29.6819740150, 9.5105675642], [-0.1883305951, -33.5169186884, 9.5105676387], [-2.9022641088, -37.7162696304, 9.5105677104], [-2.9022641204, -37.7162696229, 9.5105676815], [-0.1883305835, -33.5169186958, 9.5105676677], [2.9622499298, -39.6666802942, 9.5105676897], [-8.3895660775, -34.8726626240, 9.5105675708], [-5.0349568823, -29.6819740150, 9.5105676689], [-2.9022641088, -37.7162696304, 9.5105676057], [-8.3895660739, -34.8726626171, 9.5105676300], [-2.9022641124, -37.7162696373, 9.5105675465], [-4.7683606376, -42.3549853818, 9.5105675477], [-4.7683606376, -42.3549853818, 9.5105675477], [-2.9022641124, -37.7162696373, 9.5105675465], [1.3599938828, -43.1549214450, 9.5105675659], [-2.9022641124, -37.7162696373, 9.5105674692], [2.0727792985, -41.3830897709, 9.5105676427], [1.3599938828, -43.1549214450, 9.5105676432], [-10.6961882039, -40.6064305367, 9.5105675291], [-8.3895660739, -34.8726626171, 9.5105675275], [-4.7683606376, -42.3549853818, 9.5105676502], [-5.6013537243, -21.3887576497, 9.5105675693], [-0.7547271963, -25.2237000953, 9.5105676422], [-5.0349568855, -29.6819739844, 9.5105675712], [-9.0641339123, -24.9955767006, 9.5105676460], [-5.6013537243, -21.3887576497, 9.5105675693], [-5.0349568855, -29.6819739844, 9.5105675712], [-9.0641338897, -24.9955766811, 9.5105676644], [-5.0349569081, -29.6819740039, 9.5105675528], [-10.0846962531, -33.2452286446, 9.5105677018], [-13.1494545805, -27.8783077307, 9.5105677301], [-9.0641338897, -24.9955766811, 9.5105676600], [-10.0846962531, -33.2452286446, 9.5105677062], [-13.1494545857, -27.8783077337, 9.5105676837], [-10.0846962479, -33.2452286416, 9.5105677527], [-15.7197512799, -35.7834869013, 9.5105677496], [-17.7083099257, -29.9318018265, 9.5105677270], [-13.1494545857, -27.8783077337, 9.5105677295], [-15.7197512799, -35.7834869013, 9.5105677038], [-17.0158772974, -23.0567517351, 9.5105677416], [-13.1494545857, -27.8783077337, 9.5105677295], [-17.7083099257, -29.9318018265, 9.5105677270], [-13.7766673762, -20.9970014369, 9.5105676374], [-9.0641338976, -24.9955766699, 9.5105676890], [-13.1494545725, -27.8783077420, 9.5105677012], [-15.3371226109, -22.0981057224, 9.5105676576], [-13.7766673762, -20.9970014369, 9.5105676675], [-13.1494545725, -27.8783077420, 9.5105676710], [-10.9881230280, -18.3590105580, 9.5105675247], [-5.6013537173, -21.3887576564, 9.5105676777], [-9.0641339193, -24.9955766939, 9.5105675376], [-10.9881230323, -18.3590105656, 9.5105677196], [-10.4977583494, -16.5132027114, 9.5105677482], [-5.6013537130, -21.3887576488, 9.5105674827], [-12.3107882060, -19.7366973814, 9.5105676068], [-10.9881230280, -18.3590105580, 9.5105675787], [-9.0641339193, -24.9955766939, 9.5105674836], [-3.8194878843, -19.8567815998, 9.5105674874], [0.2658328037, -16.9740493589, 9.5105675677], [-0.7547272129, -25.2237001095, 9.5105675352], [-4.4466989142, -12.9754720727, 9.5105674635], [0.2658328121, -16.9740493708, 9.5105675352], [-3.8194878927, -19.8567815879, 9.5105675200], [-4.4466989172, -12.9754720762, 9.5105675553], [-3.6143697571, -11.2565539990, 9.5105675466], [0.2658328151, -16.9740493673, 9.5105674435], [-1.6581560374, -10.3374845592, 9.5105671478], [3.7286118604, -13.3672301669, 9.5105675787], [0.2658328000, -16.9740493514, 9.5105675984], [0.5780301524, -7.2174649896, 9.5105676244], [6.4425439756, -9.1678763435, 9.5105676091], [3.7286118573, -13.3672301578, 9.5105676089], [-0.4585996291, -8.8214753469, 9.5105676689], [0.5780301524, -7.2174649896, 9.5105676690], [3.7286118573, -13.3672301578, 9.5105675643], [2.1802871185, -3.7292240548, 9.5105675186], [8.3086373368, -4.5291611035, 9.5105675668], [6.4425439912, -9.1678763433, 9.5105675808], [1.4675010050, -5.5010556335, 9.5105675396], [2.1802871185, -3.7292240548, 9.5105675488], [6.4425439912, -9.1678763433, 9.5105675507], [9.2588321596, 0.3797206197, 9.5105674457], [15.4109701117, -0.2100004004, 9.5105675151], [14.2364666111, -6.2777111540, 9.5105674457], [14.2364666323, -6.2777111581, 9.5105674457], [15.4109700905, -0.2100003963, 9.5105675151], [20.3886055877, -6.8674342195, 9.5105675026], [14.2364666304, -6.2777111780, 9.5105674387], [20.3886055896, -6.8674341997, 9.5105675096], [20.3889701608, -11.8674325315, 9.5105675822], [20.3889701470, -11.8674325315, 9.5105675532], [20.3886056034, -6.8674341997, 9.5105675386], [26.3729469502, -10.3219072322, 9.5105675576], [20.3889701511, -11.8674325475, 9.5105674717], [26.3729469461, -10.3219072162, 9.5105676391], [27.2976621000, -11.9929405535, 9.5105676392], [14.2369177639, -12.4580550911, 9.5105674463], [14.2364666304, -6.2777111780, 9.5105675434], [20.3889701608, -11.8674325315, 9.5105674775], [15.4109700905, -0.2100003963, 9.5105674921], [21.3387976679, -1.9585519326, 9.5105674476], [20.3886055877, -6.8674342195, 9.5105675256], [20.3886055853, -6.8674342190, 9.5105674551], [21.3387976703, -1.9585519330, 9.5105675180], [26.5572678747, -6.4877221700, 9.5105674345], [20.3886055842, -6.8674342003, 9.5105675325], [26.5572678758, -6.4877221887, 9.5105673571], [27.1474350352, -8.3040795079, 9.5105673305], [15.4109700855, -0.2100004133, 9.5105675048], [17.7175887378, 5.5237664686, 9.5105674349], [21.3387976729, -1.9585519156, 9.5105674348], [17.7175887378, 5.5237664686, 9.5105674349], [23.2048929826, 2.6801632720, 9.5105675124], [21.3387976729, -1.9585519156, 9.5105674348], [21.3387976751, -1.9585519165, 9.5105675053], [23.2048929804, 2.6801632729, 9.5105674419], [27.4671548932, -2.7584824734, 9.5105673553], [21.3387976740, -1.9585519251, 9.5105673103], [27.4671548943, -2.7584824648, 9.5105675503], [27.7012528048, -4.6539144274, 9.5105677306], [23.2048929804, 2.6801632729, 9.5105674221], [28.1799389538, -0.9866464089, 9.5105673787], [27.4671548932, -2.7584824734, 9.5105673751], [17.7175887355, 5.5237664642, 9.5105675289], [21.0721930033, 10.7144582576, 9.5105674287], [23.2048929849, 2.6801632764, 9.5105674183], [21.0721930033, 10.7144582576, 9.5105674460], [25.9188218352, 6.8795172322, 9.5105674741], [23.2048929849, 2.6801632764, 9.5105674010], [23.2048929965, 2.6801632689, 9.5105674300], [25.9188218236, 6.8795172397, 9.5105674451], [29.0694024429, 0.7297518681, 9.5105673836], [25.9188218236, 6.8795172397, 9.5105674150], [30.1060328633, 2.3337620173, 9.5105674050], [29.0694024429, 0.7297518681, 9.5105674137], [9.2588321613, 0.3797206373, 9.5105674585], [9.2584657601, 5.3797196535, 9.5105675361], [15.4109701100, -0.2100004180, 9.5105675024], [9.2584657601, 5.3797196535, 9.5105674393], [15.4105189154, 5.9703371180, 9.5105675281], [15.4109701100, -0.2100004180, 9.5105675991], [9.2584657598, 5.3797196563, 9.5105675201], [8.3075562044, 10.2884623129, 9.5105675916], [15.4105189156, 5.9703371152, 9.5105674473], [8.3075562044, 10.2884623129, 9.5105675326], [14.2351284178, 12.0378826045, 9.5105675873], [15.4105189156, 5.9703371152, 9.5105675063], [2.7265312893, 7.6335070153, 9.5105671193], [8.3075562124, 10.2884623145, 9.5105675450], [9.2584657518, 5.3797196548, 9.5105675667], [2.7265312744, 7.6335070467, 9.5105673647], [1.5009996307, 9.0982673412, 9.5105673647], [8.3075562274, 10.2884622831, 9.5105672996], [3.2744903124, 3.8342057103, 9.5105674368], [9.2584657746, 5.3797196535, 9.5105675035], [9.2588321468, 0.3797206373, 9.5105674910], [3.2744903136, 3.8342057059, 9.5105675285], [2.3497777823, 5.5052406910, 9.5105675196], [9.2584657734, 5.3797196580, 9.5105674118], [2.7272240361, -1.8750320307, 9.5105674875], [3.0901644046, -0.0000017788, 9.5105674588], [8.3086373316, -4.5291611354, 9.5105673614]], triangles = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11], [12, 13, 14], [15, 16, 17], [18, 19, 20], [21, 22, 23], [24, 25, 26], [27, 28, 29], [30, 31, 32], [33, 34, 35], [36, 37, 38], [39, 40, 41], [42, 43, 44], [45, 46, 47], [48, 49, 50], [51, 52, 53], [54, 55, 56], [57, 58, 59], [60, 61, 62], [63, 64, 65], [66, 67, 68], [69, 70, 71], [72, 73, 74], [75, 76, 77], [78, 79, 80], [81, 82, 83], [84, 85, 86], [87, 88, 89], [90, 91, 92], [93, 94, 95], [96, 97, 98], [99, 100, 101], [102, 103, 104], [105, 106, 107], [108, 109, 110], [111, 112, 113], [114, 115, 116], [117, 118, 119], [120, 121, 122], [123, 124, 125], [126, 127, 128], [129, 130, 131], [132, 133, 134], [135, 136, 137], [138, 139, 140], [141, 142, 143], [144, 145, 146], [147, 148, 149], [150, 151, 152], [153, 154, 155], [156, 157, 158], [159, 160, 161], [162, 163, 164], [165, 166, 167], [168, 169, 170], [171, 172, 173], [174, 175, 176], [177, 178, 179], [180, 181, 182], [183, 184, 185], [186, 187, 188], [189, 190, 191], [192, 193, 194], [195, 196, 197], [198, 199, 200], [201, 202, 203], [204, 205, 206], [207, 208, 209], [210, 211, 212], [213, 214, 215], [216, 217, 218], [219, 220, 221], [222, 223, 224], [225, 226, 227], [228, 229, 230], [231, 232, 233], [234, 235, 236], [237, 238, 239], [240, 241, 242], [243, 244, 245], [246, 247, 248], [249, 250, 251], [252, 253, 254], [255, 256, 257], [258, 259, 260], [261, 262, 263], [264, 265, 266], [267, 268, 269], [270, 271, 272], [273, 274, 275], [276, 277, 278], [279, 280, 281], [282, 283, 284], [285, 286, 287]]);
/***********************************************
******      SolidPython code:      *************
************************************************
 
#! /usr/bin/env python
# -*- coding: UTF-8 -*-
from __future__ import division
import os
import sys
import re
import tree
import utilities
from numpy import array,cross
from tree import TriangleNode, parseArrayIntoTree
from stl_reader import Reader
from graph2 import Graph,TreeNode,treeLength
from utilities import getMatrixArbitraryAxis, findIntersectingTriangles

# Assumes SolidPython is in site-packages or elsewhwere in sys.path
from solid import *
from solid.utils import *

SEGMENTS = 48

triangles = Reader.read("stl/sphere.stl")
g = Graph(triangles)
msp = g.toMSPTree()
array_rep = msp.makeArrayRepresentation(len(g.nodes))
print array_rep
print len(array_rep)
print treeLength(msp,set())
tn = parseArrayIntoTree(g.nodes, array_rep)
tn.unfold()
v = tn.getAllChildVertices()
v2d = tn.getAllChildVertices2D()
#xs = tn.checkIntersection()
#print [x.node for x in xs]
#print len(xs)

def assembly():
    a = polyhedron(
            points=v,
            triangles=[[x for x in range(y,y+3)] for y in range(0,len(v),3)])
    return a

def intersecting():
    a = polygon(
            points=v2d,
            paths=[[x for x in range(y,y+3)] for y in range(0,len(v),3)])
    return a

if __name__ == '__main__':
    a = assembly()
    #a = intersecting()
    scad_render_to_file(a,'unfold.scad', file_header='$fn = %s;' % SEGMENTS, include_orig_code=True)
 
 
***********************************************/
                            
