$fn = 48;

polyhedron(points = [[30.9463005066, 44.0649185181, -67.4539184570], [28.3488006592, 10.4514503479, -79.3826065063], [-28.9701499939, 41.5731506348, -69.4866027832], [-20.1815115418, 83.6073071043, -54.4630604060], [30.9463005096, 44.0649182384, -67.4539182026], [-28.9701499969, 41.5731509144, -69.4866030376], [30.9463005232, 44.0649182023, -67.4539180392], [-20.1815115554, 83.6073071404, -54.4630605695], [28.1215514938, 82.6336329143, -53.8783466958], [14.3067607289, 165.9194488668, -24.7114163117], [28.1215514941, 82.6336327462, -53.8783470007], [-20.1815115557, 83.6073073084, -54.4630602646], [-20.1815115873, 83.6073070557, -54.4630595287], [-49.2963900840, 135.9253725351, -36.5340960531], [14.3067607605, 165.9194491196, -24.7114170476], [-20.1815111232, 83.6073073245, -54.4630595594], [-65.5042259876, 80.2302025762, -56.5279969748], [-49.2963905481, 135.9253722663, -36.5340960224], [-65.5042259264, 80.2302026852, -56.5279973280], [-81.7389180410, 116.6183526596, -43.9808747890], [-49.2963906093, 135.9253721573, -36.5340956692], [14.3067607688, 165.9194490969, -24.7114170344], [-49.2963900922, 135.9253725578, -36.5340960664], [-30.3762762001, 214.5443879465, -8.3869317942], [-30.3762757646, 214.5443876923, -8.3869313769], [-49.2963905278, 135.9253728121, -36.5340964837], [-83.7438472923, 221.1919907272, -7.0639058860], [-30.3762757658, 214.5443876818, -8.3869313734], [-83.7438472911, 221.1919907377, -7.0639058895], [-100.2792603574, 234.4309239356, -2.7033218595], [-83.7438472374, 221.1919908068, -7.0639058956], [-155.1999039094, 202.5484539153, -15.0263928820], [-100.2792604111, 234.4309238665, -2.7033218535], [-49.2963905422, 135.9253727274, -36.5340962557], [-85.6539569640, 148.0124943251, -32.9617073258], [-83.7438472779, 221.1919908118, -7.0639061140], [-83.7438472943, 221.1919907567, -7.0639059570], [-85.6539569477, 148.0124943803, -32.9617074829], [-156.7833860756, 160.6603142992, -29.8597877959], [-156.7402136813, 208.7488970933, -12.8648209730], [-83.7438472862, 221.1919906871, -7.0639057981], [-156.7833860837, 160.6603143688, -29.8597879548], [14.3067608019, 165.9194491856, -24.7114172079], [-30.3762762333, 214.5443878578, -8.3869316207], [11.0293910593, 237.9216295093, 0.6705816199], [11.0293915597, 237.9216291343, 0.6705803004], [-30.3762767336, 214.5443882328, -8.3869303012], [-45.1952145345, 281.9312412815, 15.1421180166], [-13.0840748529, 311.2713510992, 26.1281408652], [11.0293913071, 237.9216286704, 0.6705807298], [-45.1952142819, 281.9312417454, 15.1421175872], [-61.3482829351, 341.0882390713, 35.7371439777], [-13.0840747257, 311.2713510872, 26.1281405254], [-45.1952144091, 281.9312417574, 15.1421179270], [-18.6964282827, 359.9159506189, 43.2108503201], [-13.0840746800, 311.2713510336, 26.1281409214], [-61.3482829809, 341.0882391249, 35.7371435817], [78.6009560885, 184.2761673653, -16.9880034880], [14.3067608360, 165.9194492568, -24.7114174055], [11.0293910252, 237.9216294381, 0.6705818175], [11.0293910422, 237.9216296343, 0.6705812861], [54.8182378811, 231.3172558837, -0.8213531464], [78.6009560716, 184.2761671691, -16.9880029566], [54.8182378870, 231.3172559198, -0.8213531326], [11.0293910362, 237.9216295982, 0.6705812722], [35.4875728005, 310.8761698974, 26.9224534569], [124.7599585389, 249.1303392886, 6.8185388978], [78.6009568110, 184.2761673360, -16.9880023546], [54.8182371416, 231.3172557168, -0.8213537485], [112.9337367790, 291.2979183794, 21.4928350475], [124.7599585571, 249.1303394271, 6.8185384086], [54.8182371234, 231.3172555783, -0.8213532593], [112.9337367984, 291.2979183675, 21.4928350971], [164.1864093805, 283.5693580906, 19.7471399894], [124.7599585377, 249.1303394389, 6.8185383589], [78.6009560839, 184.2761673331, -16.9880033731], [61.8748904336, 112.3038123320, -42.7441012063], [14.3067608406, 165.9194492890, -24.7114175204], [61.8748904426, 112.3038123356, -42.7441012222], [78.6009560748, 184.2761673295, -16.9880033572], [135.0190036722, 167.0870035272, -21.9776789692], [135.0190036659, 167.0870035120, -21.9776789885], [78.6009560812, 184.2761673447, -16.9880033379], [161.6595395598, 185.2570253379, -15.0442711858], [14.3067607030, 165.9194488148, -24.7114161755], [62.9588422563, 113.1740791486, -42.4157122502], [28.1215515200, 82.6336327982, -53.8783471369], [61.8266249960, 60.4508300775, -61.0694751736], [28.1215509830, 82.6336331665, -53.8783464859], [62.9588427934, 113.1740787804, -42.4157129012], [62.9588429648, 113.1740788531, -42.4157131172], [97.7629915711, 45.6230499365, -65.6184912426], [61.8266248246, 60.4508300048, -61.0694749577], [97.7629916192, 45.6230500529, -65.6184915093], [62.9588429167, 113.1740787367, -42.4157128504], [156.4696923360, 118.2150704936, -38.8361774799], [131.2986978149, 29.7870664145, -70.5699603676], [97.7629916323, 45.6230500707, -65.6184915862], [156.4696923228, 118.2150704758, -38.8361774030], [131.2986982452, 29.7870657331, -70.5699588103], [156.4696918926, 118.2150711571, -38.8361789603], [189.3143239313, 115.2172257810, -39.2640328712], [189.3143239239, 115.2172258842, -39.2640331391], [169.7958944207, 35.2539851205, -67.8977403672], [131.2986982526, 29.7870656300, -70.5699585425], [203.7861940720, 66.1544448110, -56.3241682075], [169.7958953914, 35.2539849736, -67.8977406185], [189.3143229532, 115.2172260311, -39.2640328877], [57.4665181898, 16.7670441516, -76.5908310863], [28.3488007047, 10.4514503568, -79.3826065413], [30.9463004611, 44.0649185092, -67.4539184221], [-28.9701499887, 41.5731506233, -69.4866027168], [28.3488006539, 10.4514503594, -79.3826065727], [-40.1348177411, -10.4872464682, -88.0990294265], [-40.1348175773, -10.4872464377, -88.0990296101], [-65.8930624671, 60.2083180234, -63.6110556088], [-28.9701501524, 41.5731505928, -69.4866025333], [-89.2288872720, -4.1812882502, -86.8145647458], [-65.8930625701, 60.2083178926, -63.6110553396], [-40.1348174743, -10.4872463069, -88.0990298792], [28.3488006587, 10.4514503922, -79.3826066893], [20.5784236966, -51.8154148739, -101.5366532430], [-40.1348177459, -10.4872465011, -88.0990293099], [-34.2151539323, -87.2616237035, -115.1166797060], [-40.1348176451, -10.4872460944, -88.0990301057], [20.5784235959, -51.8154152806, -101.5366524472], [-0.4271110273, -96.6300668226, -117.7777150774], [-34.2151539941, -87.2616242748, -115.1166779655], [20.5784236577, -51.8154147094, -101.5366541877], [-34.2151539936, -87.2616242863, -115.1166779189], [-0.4271110278, -96.6300668111, -117.7777151240], [-32.3315279502, -182.1773668752, -148.6229534799], [22.1198069405, -124.6892645108, -127.2600727217], [-32.3315279754, -182.1773667700, -148.6229537456], [-0.4271110026, -96.6300669163, -117.7777148583], [-32.3315284780, -182.1773660262, -148.6229544664], [22.1198074431, -124.6892652546, -127.2600720010], [-12.9129169071, -186.3899505158, -149.7382547336], [-26.1017055208, -235.2676056887, -167.2648474283], [-32.3315282150, -182.1773649800, -148.6229538386], [-12.9129171701, -186.3899515620, -149.7382553614], [-12.9129172687, -186.3899520473, -149.7382539337], [3.5054231133, -208.6310155198, -157.2823741006], [-26.1017054222, -235.2676052034, -167.2648488559], [29.7162224750, -254.2621256690, -172.9040618022], [-26.1017050216, -235.2676060811, -167.2648477023], [3.5054227126, -208.6310146421, -157.2823752542], [29.7162222742, -254.2621259799, -172.9040612310], [3.5054229134, -208.6310143312, -157.2823758255], [31.7240490451, -205.3536489408, -155.5815740315], [3.5054230289, -208.6310148890, -157.2823766670], [10.5072842632, -165.8326434764, -142.0231254952], [31.7240489296, -205.3536483830, -155.5815731900], [31.7240480427, -205.3536490321, -155.5815736576], [69.9214357626, -231.1699273902, -163.9703625296], [29.7162232765, -254.2621258886, -172.9040616049], [15.7379141830, -186.5397012882, -149.2402573688], [-12.9129170295, -186.3899509325, -149.7382533990], [22.1198075655, -124.6892648379, -127.2600733357], [15.7379133173, -186.5397013870, -149.2402568396], [22.1198084311, -124.6892647391, -127.2600738649], [61.9326497249, -165.9913356824, -141.0903610457], [54.5082616923, -210.0595560720, -156.8064931464], [15.7379133728, -186.5397011245, -149.2402578162], [61.9326496694, -165.9913359448, -141.0903600692], [-32.3315281973, -182.1773670228, -148.6229530758], [-59.9361126384, -135.4117256357, -132.6271333280], [-34.2151537465, -87.2616241388, -115.1166783230], [-59.9361126078, -135.4117253160, -132.6271342521], [-115.7417155655, -100.2744555298, -121.2829602171], [-34.2151537771, -87.2616244585, -115.1166773989], [-115.7417155190, -100.2744555907, -121.2829597997], [-59.9361126543, -135.4117252551, -132.6271346695], [-117.4628085884, -148.3255230795, -138.2969336699], [20.5784233425, -51.8154148379, -101.5366534253], [36.5155503583, -101.1105609490, -118.6507297532], [-0.4271107122, -96.6300666940, -117.7777158399], [20.5784232686, -51.8154148935, -101.5366533339], [83.1311043391, -54.8632178957, -101.4109179871], [36.5155504322, -101.1105608934, -118.6507298445], [36.5155504396, -101.1105613845, -118.6507285471], [83.1311043317, -54.8632174046, -101.4109192845], [94.2824621648, -90.1418113637, -113.6636780861], [-34.2151539649, -87.2616239267, -115.1166790791], [-86.5422665116, -26.4635564965, -94.6372898644], [-40.1348176125, -10.4872458712, -88.0990307327], [28.3488006890, 10.4514504111, -79.3826067529], [58.2687644127, 10.4159545835, -78.8198301271], [20.5784236663, -51.8154148928, -101.5366531793], [74.1763374409, -21.6095218194, -89.8315057090], [20.5784235811, -51.8154145836, -101.5366538849], [58.2687644980, 10.4159542743, -78.8198294215]], triangles = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11], [12, 13, 14], [15, 16, 17], [18, 19, 20], [21, 22, 23], [24, 25, 26], [27, 28, 29], [30, 31, 32], [33, 34, 35], [36, 37, 38], [39, 40, 41], [42, 43, 44], [45, 46, 47], [48, 49, 50], [51, 52, 53], [54, 55, 56], [57, 58, 59], [60, 61, 62], [63, 64, 65], [66, 67, 68], [69, 70, 71], [72, 73, 74], [75, 76, 77], [78, 79, 80], [81, 82, 83], [84, 85, 86], [87, 88, 89], [90, 91, 92], [93, 94, 95], [96, 97, 98], [99, 100, 101], [102, 103, 104], [105, 106, 107], [108, 109, 110], [111, 112, 113], [114, 115, 116], [117, 118, 119], [120, 121, 122], [123, 124, 125], [126, 127, 128], [129, 130, 131], [132, 133, 134], [135, 136, 137], [138, 139, 140], [141, 142, 143], [144, 145, 146], [147, 148, 149], [150, 151, 152], [153, 154, 155], [156, 157, 158], [159, 160, 161], [162, 163, 164], [165, 166, 167], [168, 169, 170], [171, 172, 173], [174, 175, 176], [177, 178, 179], [180, 181, 182], [183, 184, 185], [186, 187, 188], [189, 190, 191]]);
/***********************************************
******      SolidPython code:      *************
************************************************
 
#! /usr/bin/env python
# -*- coding: UTF-8 -*-
from __future__ import division
import os
import sys
import re
from numpy import array
from tree import TriangleNode,traverse,traverse_for_vertices,unfold
from stl_reader import Reader
from graph2 import Graph

# Assumes SolidPython is in site-packages or elsewhwere in sys.path
from solid import *
from solid.utils import *

SEGMENTS = 48

triangles = Reader.read("stl/rhino-quarter.stl")
g = Graph(triangles)
msp = g.toMSPTree()
tn = traverse(msp,set())
tn.root = True
#v = traverse_for_vertices(tn)
#print reduce(lambda x,y: x+y, v)
#for child,edges in tn.children:
    #child.unfold()
unfold(tn)
v = traverse_for_vertices(tn)
vertices = reduce(lambda x,y: x+y, v)
#print vertices
vertices = [y[:3] for y in vertices ]
#print vertices

def assembly():
    a = polyhedron(
            points=vertices,
            triangles=[[x for x in range(y,y+3)] for y in range(0,len(vertices),3)])
    return a

if __name__ == '__main__':
    a = assembly()
    scad_render_to_file(a,'unfold.scad', file_header='$fn = %s;' % SEGMENTS, include_orig_code=True)
 
 
***********************************************/
                            
