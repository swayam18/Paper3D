$fn = 48;

polyhedron(points = [[63.0221705669, -36.4437764449, 46.3624724290], [53.2128208355, -101.6372786252, 46.3624728814], [88.4545413404, -68.5843367349, 46.3624728523], [53.2128208615, -101.6372786291, 46.3624727156], [63.0221705409, -36.4437764410, 46.3624725948], [16.6662926503, -74.5417335821, 46.3624732860], [63.0221706546, -36.4437765794, 46.3624729278], [37.0932377462, -11.8146011020, 46.3624727668], [16.6662925365, -74.5417334437, 46.3624729530], [16.6662925489, -74.5417334477, 46.3624728867], [37.0932377338, -11.8146010980, 46.3624728331], [-28.8056347948, -41.1701736546, 46.3624730926], [-28.8056346980, -41.1701735227, 46.3624732788], [2.4996697822, -113.8405856336, 46.3624730945], [16.6662924521, -74.5417335796, 46.3624727006], [-60.8291716416, -78.9343856746, 46.3624728523], [2.4996696874, -113.8405856744, 46.3624727953], [-28.8056346032, -41.1701734819, 46.3624735780], [37.0932377305, -11.8146010905, 46.3624729540], [-13.1397124283, 31.8316331715, 46.3624730911], [-28.8056347915, -41.1701736622, 46.3624729717], [-79.2101967602, 23.0067768743, 46.3624744845], [-28.8056346492, -41.1701736927, 46.3624738592], [-13.1397125706, 31.8316332020, 46.3624722035], [-79.2101967764, 23.0067768615, 46.3624738186], [-74.7375242518, -59.6608243726, 46.3624752564], [-28.8056346330, -41.1701736800, 46.3624745252], [-60.7604217278, 52.9414804861, 46.3624725967], [-79.2101967535, 23.0067768245, 46.3624726523], [-13.1397125773, 31.8316332518, 46.3624740358], [-79.2101967494, 23.0067768219, 46.3624726045], [-60.7604217320, 52.9414804886, 46.3624726445], [-145.5685138856, 98.7153660777, 46.3624724513], [-145.5685140656, 98.7153659199, 46.3624720167], [-132.7202719996, 43.5807377655, 46.3624721972], [-79.2101965694, 23.0067769797, 46.3624730391], [-132.7202719945, 43.5807377789, 46.3624731754], [-149.1546193335, -21.2844729398, 46.3624740998], [-79.2101965746, 23.0067769662, 46.3624720609], [-149.1546192386, -21.2844729638, 46.3624736869], [-132.7202720894, 43.5807378029, 46.3624735883], [-184.7384226176, 15.2550329456, 46.3624745600], [-64.0170943875, 90.0223552659, 46.3624719306], [-145.5685139009, 98.7153660493, 46.3624727363], [-60.7604217167, 52.9414805169, 46.3624723594], [-145.5685139745, 98.7153653587, 46.3624736545], [-64.0170943138, 90.0223559565, 46.3624710125], [-134.1286673164, 115.0003936530, 46.3624726840], [-178.8343752949, 144.5224268811, 46.3624742527], [-145.5685129721, 98.7153646545, 46.3624734160], [-134.1286683188, 115.0003943572, 46.3624729225], [-134.1286683593, 115.0003942959, 46.3624714131], [-137.7913928424, 143.4208975241, 46.3624728491], [-178.8343752544, 144.5224269425, 46.3624757620], [-150.8666582546, 196.7339238654, 46.3624745353], [-178.8343752379, 144.5224275567, 46.3624743894], [-137.7913928589, 143.4208969098, 46.3624742217], [-150.8666584637, 196.7339238141, 46.3624738896], [-137.7913926498, 143.4208969611, 46.3624748674], [-114.4574307251, 159.7135619455, 46.3624750257], [-114.4574314351, 159.7135612472, 46.3624746246], [-104.4691629016, 205.4970400067, 46.3624731736], [-150.8666577536, 196.7339245125, 46.3624742906], [-137.7913931153, 143.4208976277, 46.3624754770], [-102.0286351410, 114.5315129906, 46.3624767332], [-114.4574302596, 159.7135612789, 46.3624744160], [-112.9197456063, 134.2701157247, 46.3624715096], [-134.1286673533, 115.0003935494, 46.3624712847], [-64.0170942769, 90.0223560601, 46.3624724117], [-112.9197461833, 134.2701150870, 46.3624709621], [-64.0170937000, 90.0223566978, 46.3624729592], [-63.8821529918, 149.0323730560, 46.3624724510], [-100.8658021072, 178.6353474384, 46.3624725338], [-112.9197462082, 134.2701151697, 46.3624719711], [-63.8821529669, 149.0323729733, 46.3624714419], [-13.1397127107, 31.8316329508, 46.3624732685], [-36.4741802061, 81.1509768525, 46.3624726383], [-60.7604215944, 52.9414807871, 46.3624733641], [-13.1397127787, 31.8316329186, 46.3624731625], [31.2228229875, 76.0369294566, 46.3624715221], [-36.4741801381, 81.1509768847, 46.3624727442], [-36.4741801347, 81.1509769293, 46.3624713577], [31.2228229841, 76.0369294120, 46.3624729087], [14.3341305264, 111.1629046806, 46.3624728300], [37.0932377497, -11.8146010683, 46.3624730208], [59.3279423602, 8.2138815900, 46.3624730448], [-13.1397124476, 31.8316331494, 46.3624730242], [48.3001880277, 43.9675898170, 46.3624721948], [-13.1397124829, 31.8316330409, 46.3624737908], [59.3279423956, 8.2138816985, 46.3624722782], [63.2650818953, 2.6959737700, 46.3624741552], [37.0932377772, -11.8146010694, 46.3624728035], [63.0221706236, -36.4437766120, 46.3624728910], [137.6337088553, -143.1463571831, 46.3624712059], [88.4545411625, -68.5843365452, 46.3624730837], [53.2128210134, -101.6372788148, 46.3624726500], [53.2128210051, -101.6372788317, 46.3624718715], [68.9012631881, -162.1366725358, 46.3624715169], [137.6337088636, -143.1463571663, 46.3624719844], [137.6337088585, -143.1463571479, 46.3624719645], [68.9012631932, -162.1366725542, 46.3624715368], [139.1031550804, -211.1558272021, 46.3624724543], [137.6337088978, -143.1463571470, 46.3624721582], [139.1031550411, -211.1558272029, 46.3624722605], [186.5972620362, -201.8138221712, 46.3624721121], [198.5724504500, -114.5660571591, 46.3624725800], [137.6337089211, -143.1463571276, 46.3624723688], [186.5972620130, -201.8138221906, 46.3624719015], [186.5972620232, -201.8138221920, 46.3624724682], [214.4607487914, -167.3619306097, 46.3624724302], [198.5724504397, -114.5660571577, 46.3624720133], [279.2130750630, -134.5800084297, 46.3624724966], [198.5724512344, -114.5660569186, 46.3624715148], [214.4607479967, -167.3619308489, 46.3624729287], [300.5176779439, -175.5606515563, 46.3624729772], [279.2130750478, -134.5800083997, 46.3624730043], [214.4607480119, -167.3619308789, 46.3624724211], [300.5176779625, -175.5606515466, 46.3624729268], [333.1315998154, -135.2376228466, 46.3624739230], [279.2130750292, -134.5800084094, 46.3624730546], [214.4607488217, -167.3619306343, 46.3624724293], [186.5972619928, -201.8138221674, 46.3624724691], [256.8755703065, -242.6878699147, 46.3624730380], [198.5724504535, -114.5660571666, 46.3624724609], [134.7479063801, -69.2937112372, 46.3624724360], [137.6337089176, -143.1463571201, 46.3624724880], [134.7479063853, -69.2937112299, 46.3624724523], [198.5724504484, -114.5660571739, 46.3624724445], [228.2754799579, -63.3694718621, 46.3624724950], [228.2754799391, -63.3694718512, 46.3624725081], [198.5724504672, -114.5660571848, 46.3624724315], [261.0671313675, -59.8131273478, 46.3624726488], [186.5972618573, -201.8138212615, 46.3624732401], [139.1031552200, -211.1558281127, 46.3624711325], [176.1850880133, -273.9183587852, 46.3624715079], [221.0210444362, -275.4665982467, 46.3624723137], [186.5972614800, -201.8138212070, 46.3624726762], [176.1850883906, -273.9183588397, 46.3624720718], [206.3992073473, -331.1174330212, 46.3624729263], [221.0210444422, -275.4665980728, 46.3624726323], [176.1850883846, -273.9183590135, 46.3624717532], [251.5725817574, -317.3738542184, 46.3624731212], [221.0210445361, -275.4665980975, 46.3624722420], [206.3992072535, -331.1174329965, 46.3624733166], [139.1031553411, -211.1558268287, 46.3624719841], [68.9012629325, -162.1366729276, 46.3624720070], [104.1440892024, -252.0447300671, 46.3624718943], [68.9012629225, -162.1366729315, 46.3624717636], [50.4806441525, -195.9214906968, 46.3624718451], [104.1440892124, -252.0447300632, 46.3624721377], [104.1440892027, -252.0447300724, 46.3624719710], [50.4806441622, -195.9214906875, 46.3624720118], [6.5905127286, -253.3901021659, 46.3624717553], [40.9527478173, -291.0806760011, 46.3624713664], [104.1440892025, -252.0447300555, 46.3624717982], [6.5905127289, -253.3901021828, 46.3624719280], [139.1031553344, -211.1558268230, 46.3624719772], [104.1440892091, -252.0447300728, 46.3624719011], [101.2931527645, -273.4824559775, 46.3624716009], [104.1440892908, -252.0447300837, 46.3624719308], [37.6722624361, -285.1875564046, 46.3624722496], [101.2931526827, -273.4824559666, 46.3624715712], [53.2128215104, -101.6372787007, 46.3624719984], [17.0824476648, -129.2853052391, 46.3624717534], [68.9012626828, -162.1366726668, 46.3624713900], [17.0824476951, -129.2853051914, 46.3624721238], [30.9813135535, -168.6796512130, 46.3624714248], [68.9012626525, -162.1366727146, 46.3624710195], [137.6337088357, -143.1463571961, 46.3624710597], [136.1756294633, -69.2517351675, 46.3624720538], [88.4545411821, -68.5843365322, 46.3624732299], [97.6945028811, -28.6538451151, 46.3624721840], [88.4545411713, -68.5843373048, 46.3624727292], [136.1756294741, -69.2517343950, 46.3624725546], [136.1756295955, -69.2517342798, 46.3624727855], [113.8452169610, 6.9991139266, 46.3624724118], [97.6945027597, -28.6538452302, 46.3624719531], [113.8452170067, 6.9991139400, 46.3624727030], [136.1756295498, -69.2517342932, 46.3624724944], [209.3451558888, -10.6964267131, 46.3624726212], [127.4901228422, 41.8381087079, 46.3624728758], [113.8452170094, 6.9991139545, 46.3624727816], [209.3451558861, -10.6964267275, 46.3624725426], [127.4901231000, 41.8381091095, 46.3624711886], [209.3451556283, -10.6964271291, 46.3624742298], [231.6409730416, 13.6107017738, 46.3624708258], [231.6409730377, 13.6107017593, 46.3624711125], [160.0343092433, 63.2842747491, 46.3624694568], [127.4901231039, 41.8381091240, 46.3624709019], [207.3822582931, 61.7683021949, 46.3624703375], [160.0343098090, 63.2842755645, 46.3624696623], [231.6409724721, 13.6107009440, 46.3624709069]], triangles = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11], [12, 13, 14], [15, 16, 17], [18, 19, 20], [21, 22, 23], [24, 25, 26], [27, 28, 29], [30, 31, 32], [33, 34, 35], [36, 37, 38], [39, 40, 41], [42, 43, 44], [45, 46, 47], [48, 49, 50], [51, 52, 53], [54, 55, 56], [57, 58, 59], [60, 61, 62], [63, 64, 65], [66, 67, 68], [69, 70, 71], [72, 73, 74], [75, 76, 77], [78, 79, 80], [81, 82, 83], [84, 85, 86], [87, 88, 89], [90, 91, 92], [93, 94, 95], [96, 97, 98], [99, 100, 101], [102, 103, 104], [105, 106, 107], [108, 109, 110], [111, 112, 113], [114, 115, 116], [117, 118, 119], [120, 121, 122], [123, 124, 125], [126, 127, 128], [129, 130, 131], [132, 133, 134], [135, 136, 137], [138, 139, 140], [141, 142, 143], [144, 145, 146], [147, 148, 149], [150, 151, 152], [153, 154, 155], [156, 157, 158], [159, 160, 161], [162, 163, 164], [165, 166, 167], [168, 169, 170], [171, 172, 173], [174, 175, 176], [177, 178, 179], [180, 181, 182], [183, 184, 185], [186, 187, 188], [189, 190, 191]]);
/***********************************************
******      SolidPython code:      *************
************************************************
 
#! /usr/bin/env python
# -*- coding: UTF-8 -*-
from __future__ import division
import os
import sys
import re
import tree
import utilities
from numpy import array,cross
from tree import TriangleNode, parseArrayIntoTree
from stl_reader import Reader
from graph2 import Graph,TreeNode,treeLength
from utilities import getMatrixArbitraryAxis

# Assumes SolidPython is in site-packages or elsewhwere in sys.path
from solid import *
from solid.utils import *

SEGMENTS = 48

triangles = Reader.read("stl/rhino-quarter.stl")
g = Graph(triangles)
msp = g.toMSPTree()
array_rep = msp.makeArrayRepresentation(len(g.nodes))
print treeLength(msp,set()), "faces"
tn = parseArrayIntoTree(g.nodes, array_rep)
tn.unfold()
v = tn.getAllChildVertices()
v2d = tn.getAllChildVertices2D()
intersects = tn.checkIntersection()
print len(intersects), "faces that intersects"
#v_i = [ x.getTransformedVertices2D() for x in intersects ]
#v = reduce(lambda x,y: x+y, v_i)

#print [x.node for x in xs]
#print len(xs)

def assembly():
    a = polyhedron(
            points=v,
            triangles=[[x for x in range(y,y+3)] for y in range(0,len(v),3)])
    return a

def intersecting():
    a = polygon(
            points=v2d,
            paths=[[x for x in range(y,y+3)] for y in range(0,len(v),3)])
    return a

if __name__ == '__main__':
    a = assembly()
    #a = intersecting()
    scad_render_to_file(a,'unfold.scad', file_header='$fn = %s;' % SEGMENTS, include_orig_code=True)
 
 
***********************************************/
                            
